<div align="center">

# ğŸ›ï¸ å·¥é“¶æº¯è— â€” åŸºäºåŒºå—é“¾çš„è—å“æ•°å­—èº«ä»½æº¯æºç³»ç»Ÿ

**ICBC Collectible Traceability System**

[![Node.js](https://img.shields.io/badge/Node.js-18+-339933?logo=node.js&logoColor=white)](https://nodejs.org/)
[![React](https://img.shields.io/badge/React-18.3-61DAFB?logo=react&logoColor=white)](https://reactjs.org/)
[![Hyperledger Fabric](https://img.shields.io/badge/Hyperledger_Fabric-2.2-2F3134?logo=hyperledger&logoColor=white)](https://www.hyperledger.org/use/fabric)
[![MySQL](https://img.shields.io/badge/MySQL-8.0-4479A1?logo=mysql&logoColor=white)](https://www.mysql.com/)
[![Docker](https://img.shields.io/badge/Docker-Compose-2496ED?logo=docker&logoColor=white)](https://www.docker.com/)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)

> ç»“åˆ Hyperledger Fabric è”ç›Ÿé“¾ä¸å·¥å•†é“¶è¡Œé‡‘èæœåŠ¡èƒ½åŠ›ï¼Œä¸ºè—å“æä¾›å…¨ç”Ÿå‘½å‘¨æœŸçš„æ•°å­—èº«ä»½è®¤è¯ã€æ‰€æœ‰æƒæµè½¬ä¸çœŸä¼ªéªŒè¯è§£å†³æ–¹æ¡ˆã€‚

[å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹) Â· [ç³»ç»Ÿæ¶æ„](#-ç³»ç»Ÿæ¶æ„) Â· [åŠŸèƒ½æ¼”ç¤º](#-æ ¸å¿ƒåŠŸèƒ½) Â· [API æ–‡æ¡£](docs/API-DOCS.md) Â· [é¡¹ç›®ç»“æ„](docs/PROJECT-STRUCTURE.md)

</div>

---

## ğŸ“– é¡¹ç›®ç®€ä»‹

ã€Œå·¥é“¶æº¯è—ã€æ˜¯ä¸€æ¬¾é¢å‘è—å“è¡Œä¸šçš„ **åŒºå—é“¾æº¯æºç³»ç»Ÿ**ã€‚é€šè¿‡å°†è—å“ä¿¡æ¯ä¸Šé“¾ï¼Œåˆ©ç”¨åŒºå—é“¾ä¸å¯ç¯¡æ”¹çš„ç‰¹æ€§ï¼Œå®ç°è—å“ä»åˆ›å»ºã€è®¤é¢†ã€è½¬è®©åˆ°éªŒè¯çš„å…¨æµç¨‹å¯ä¿¡è¿½æº¯ã€‚ç³»ç»Ÿé›†æˆå·¥å•†é“¶è¡Œä¸€é”®ç™»å½•ä¸æ”¯ä»˜èƒ½åŠ›ï¼Œä¸ºå“ç‰Œæ–¹å’Œæ”¶è—è€…æä¾›å®‰å…¨ã€é€æ˜çš„æ•°å­—åŒ–è—å“ç®¡ç†å¹³å°ã€‚

### è§£å†³çš„æ ¸å¿ƒé—®é¢˜

| ç—›ç‚¹ | è§£å†³æ–¹æ¡ˆ |
|------|----------|
| è—å“çœŸä¼ªéš¾è¾¨ | åŒºå—é“¾ä¸Šé“¾å­˜è¯ + SHA-256 æ•°å­—æŒ‡çº¹ |
| æµè½¬è®°å½•ä¸é€æ˜ | é“¾ä¸Šå®Œæ•´æµè½¬å†å²ï¼Œå…¬å¼€å¯æŸ¥ |
| èº«ä»½è®¤è¯è–„å¼± | JWT + å·¥è¡Œä¸€é”®ç™»å½•åŒé‡è®¤è¯ |
| å“ç‰Œç®¡ç†æ··ä¹± | å¤šç»„ç»‡è”ç›Ÿé“¾ + RBAC æƒé™æ§åˆ¶ |

---

## âœ¨ æ ¸å¿ƒåŠŸèƒ½

### ğŸ¨ è—å“æ•°å­—èº«ä»½
- ä¸ºæ¯ä»¶è—å“åˆ›å»º **å”¯ä¸€åŒºå—é“¾èº«ä»½æ ‡è¯†**
- è‡ªåŠ¨ç”Ÿæˆé˜²ä¼ªäºŒç»´ç ï¼ˆQR Codeï¼‰ï¼Œæ”¯æŒæ‰«ç éªŒè¯
- åŸºäº SHA-256 è®¡ç®—è—å“ **æ•°å­— DNAï¼ˆå“ˆå¸ŒæŒ‡çº¹ï¼‰**

### ğŸ”„ è—å“æµè½¬ç®¡ç†
- æ”¯æŒ **è®¤é¢†ï¼ˆCLAIMï¼‰**ã€**è½¬è®©ï¼ˆTRANSFERï¼‰** ç­‰å¤šç§æµè½¬æ–¹å¼
- æ¯æ¬¡æµè½¬è‡ªåŠ¨è®°å½•è‡³åŒºå—é“¾ï¼Œå½¢æˆå®Œæ•´æº¯æºé“¾
- è—å“ç”³è¯·ä¸å®¡æ‰¹å·¥ä½œæµ

### ğŸ” çœŸä¼ªéªŒè¯
- é€šè¿‡é˜²ä¼ªç  / äºŒç»´ç ä¸€é”®éªŒè¯è—å“çœŸä¼ª
- å±•ç¤ºå®Œæ•´çš„é“¾ä¸Šæµè½¬å†å²
- å¯¹æ¯”é“¾ä¸Šå“ˆå¸Œä¸è—å“æ•°æ®ï¼Œç¡®ä¿æ•°æ®æœªè¢«ç¯¡æ”¹

### ğŸ‘¥ å¤šè§’è‰²ç”¨æˆ·ä½“ç³»
| è§’è‰² | æƒé™è¯´æ˜ |
|------|----------|
| `USER` | æ™®é€šç”¨æˆ· â€” æµè§ˆã€è®¤é¢†ã€è½¬è®©è—å“ |
| `BRAND_ADMIN` | å“ç‰Œç®¡ç†å‘˜ â€” åˆ›å»ºè—å“ã€ç®¡ç†å“ç‰Œä¿¡æ¯ |
| `ICBC_ADMIN` | å·¥è¡Œç®¡ç†å‘˜ â€” å®¡æ‰¹è—å“ã€ç®¡ç†ç”¨æˆ· |
| `SUPER_ADMIN` | è¶…çº§ç®¡ç†å‘˜ â€” å…¨ç³»ç»Ÿç®¡ç†æƒé™ |

### ğŸ¦ å·¥å•†é“¶è¡Œé›†æˆ
- å·¥è¡Œä¸€é”®ç™»å½•ï¼ˆICBC OAuthï¼‰
- æ”¯ä»˜æ¥å£é›†æˆï¼ˆå·¥è¡Œ/å¾®ä¿¡/æ”¯ä»˜å®ï¼‰
- å·¥è¡Œç”¨æˆ·è´¦æˆ·ç»‘å®š

---

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      å‰ç«¯ (React 18 + Vite)                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  ç”¨æˆ·ç«¯   â”‚  â”‚  ç®¡ç†ç«¯   â”‚  â”‚  è®¤è¯é¡µ   â”‚  â”‚  å…¬å…±ç»„ä»¶   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                          â”‚
â”‚                      â”‚  Axios / React Query                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                      â–¼                                       â”‚
â”‚              API ç½‘å…³ (Express.js)                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Routes   â”‚  â”‚Controllersâ”‚ â”‚Middleware â”‚  â”‚  Services   â”‚  â”‚
â”‚  â”‚  è·¯ç”±å±‚   â”‚â†’ â”‚  æ§åˆ¶å±‚   â”‚ â”‚ JWT/RBAC  â”‚  â”‚ ICBC API   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                      â”‚                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                          â”‚
â”‚         â–¼                         â–¼                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚  â”‚   MySQL     â”‚          â”‚ Hyperledger      â”‚               â”‚
â”‚  â”‚  ä¸šåŠ¡æ•°æ®    â”‚          â”‚ Fabric 2.2       â”‚               â”‚
â”‚  â”‚  ç”¨æˆ·/å“ç‰Œ   â”‚          â”‚ é“¾ä¸Šå­˜è¯/æº¯æº     â”‚               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚                   â”‚               â”‚
â”‚                           â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚               â”‚
â”‚                           â”‚ â”‚  æ™ºèƒ½åˆçº¦      â”‚ â”‚               â”‚
â”‚                           â”‚ â”‚ (Chaincode)   â”‚ â”‚               â”‚
â”‚                           â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚               â”‚
â”‚                           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### åŒºå—é“¾ç½‘ç»œæ‹“æ‰‘

ç³»ç»Ÿé‡‡ç”¨ **Hyperledger Fabric 2.2** è”ç›Ÿé“¾æ¶æ„ï¼ŒåŒ…å«ä»¥ä¸‹ç»„ç»‡èŠ‚ç‚¹ï¼š

| ç»„ç»‡ | MSP ID | è§’è‰² | èŠ‚ç‚¹ |
|------|--------|------|------|
| æ’åºç»„ç»‡ | `OrdererMSP` | äº¤æ˜“æ’åº | `orderer.icbc.com` |
| å·¥è¡Œç»„ç»‡ | `ICBCMSP` | æ ¸å¿ƒç®¡ç† | `peer0.icbc.com`, `peer1.icbc.com` |
| å“ç‰Œ A | `BrandAMSP` | å“ç‰Œæ–¹ | `peer0.branda.com` |
| å“ç‰Œ B | `BrandBMSP` | å“ç‰Œæ–¹ | `peer0.brandb.com` |

- **é€šé“**: `collectible-channel`
- **æ™ºèƒ½åˆçº¦**: `collectible-chaincode`ï¼ˆJavaScriptï¼‰
- **çŠ¶æ€æ•°æ®åº“**: CouchDB
- **TLS**: å…¨é“¾è·¯ TLS åŠ å¯†é€šä¿¡

---

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### åç«¯
| æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| Node.js | 18+ | æœåŠ¡ç«¯è¿è¡Œç¯å¢ƒ |
| Express.js | 4.x / 5.x | Web æ¡†æ¶ |
| MySQL | 8.0 | ä¸šåŠ¡æ•°æ®æŒä¹…åŒ– |
| mysql2 | 3.x | å¼‚æ­¥æ•°æ®åº“é©±åŠ¨ |
| Hyperledger Fabric | 2.2 | è”ç›Ÿé“¾å¹³å° |
| fabric-network | 2.2 | Fabric SDK |
| fabric-contract-api | 2.2 | æ™ºèƒ½åˆçº¦å¼€å‘ |
| JWT (jsonwebtoken) | 8.x | ç”¨æˆ·èº«ä»½è®¤è¯ |
| bcryptjs | 3.x | å¯†ç å“ˆå¸ŒåŠ å¯† |
| QRCode | 1.x | é˜²ä¼ªäºŒç»´ç ç”Ÿæˆ |
| Helmet | 4.x | HTTP å®‰å…¨å¤´ |
| Morgan | 1.x | HTTP è¯·æ±‚æ—¥å¿— |

### å‰ç«¯
| æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| React | 18.3 | UI æ¡†æ¶ |
| Vite | 5.4 | æ„å»ºå·¥å…· |
| Ant Design | 5.19 | UI ç»„ä»¶åº“ |
| React Router | 6.x | å®¢æˆ·ç«¯è·¯ç”± |
| TanStack React Query | 5.x | æœåŠ¡ç«¯çŠ¶æ€ç®¡ç† |
| Axios | 1.7 | HTTP è¯·æ±‚ |
| Day.js | 1.x | æ—¥æœŸå¤„ç† |

### DevOps
| æŠ€æœ¯ | ç”¨é€” |
|------|------|
| Docker & Docker Compose | åŒºå—é“¾ç½‘ç»œå®¹å™¨ç¼–æ’ |
| CouchDB | Fabric çŠ¶æ€æ•°æ®åº“ |
| ESLint | ä»£ç è´¨é‡æ£€æŸ¥ |
| Nodemon | å¼€å‘çƒ­é‡è½½ |
| Jest + Supertest | åç«¯å•å…ƒ/é›†æˆæµ‹è¯• |

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
icbc-collectible-traceability/
â”‚
â”œâ”€â”€ ğŸ“‚ api/                          # åç«¯ API æœåŠ¡
â”‚   â”œâ”€â”€ controllers/                 #   æ§åˆ¶å™¨ â€” ä¸šåŠ¡é€»è¾‘å¤„ç†
â”‚   â”‚   â””â”€â”€ collectible.js           #     è—å“ç›¸å…³ä¸šåŠ¡é€»è¾‘
â”‚   â”œâ”€â”€ middleware/                   #   ä¸­é—´ä»¶
â”‚   â”‚   â””â”€â”€ auth.js                  #     JWT è®¤è¯ & RBAC æƒé™æ ¡éªŒ
â”‚   â”œâ”€â”€ models/                      #   æ•°æ®æ¨¡å‹ (MySQL ORM)
â”‚   â”‚   â”œâ”€â”€ brand.js                 #     å“ç‰Œæ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ collectible.js           #     è—å“æ¨¡å‹ & æµè½¬å†å²
â”‚   â”‚   â”œâ”€â”€ collectibleApplication.js#     è—å“ç”³è¯·æ¨¡å‹
â”‚   â”‚   â””â”€â”€ user.js                  #     ç”¨æˆ·æ¨¡å‹
â”‚   â”œâ”€â”€ routes/                      #   è·¯ç”±å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ auth.js                  #     è®¤è¯è·¯ç”± (æ³¨å†Œ/ç™»å½•/å·¥è¡Œç™»å½•)
â”‚   â”‚   â”œâ”€â”€ brand.js                 #     å“ç‰Œç®¡ç†è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ collectible.js           #     è—å“æ“ä½œè·¯ç”±
â”‚   â”‚   â””â”€â”€ user.js                  #     ç”¨æˆ·ç®¡ç†è·¯ç”±
â”‚   â”œâ”€â”€ services/                    #   å¤–éƒ¨æœåŠ¡é›†æˆ
â”‚   â”‚   â”œâ”€â”€ icbcLoginSession.js      #     å·¥è¡Œç™»å½•ä¼šè¯ç®¡ç†
â”‚   â”‚   â””â”€â”€ icbcService.js           #     å·¥è¡Œ API æœåŠ¡å°è£…
â”‚   â”œâ”€â”€ utils/                       #   å·¥å…·æ¨¡å—
â”‚   â”‚   â””â”€â”€ db.js                    #     MySQL è¿æ¥æ± ç®¡ç†
â”‚   â”œâ”€â”€ public/qr-codes/             #   ç”Ÿæˆçš„äºŒç»´ç å›¾ç‰‡
â”‚   â”œâ”€â”€ server.js                    #   API æœåŠ¡å…¥å£
â”‚   â””â”€â”€ package.json
â”‚
â”œâ”€â”€ ğŸ“‚ blockchain/                   # åŒºå—é“¾æ¨¡å—
â”‚   â”œâ”€â”€ chaincode/                   #   æ™ºèƒ½åˆçº¦
â”‚   â”‚   â””â”€â”€ collectible-chaincode.js #     è—å“æº¯æºåˆçº¦ (Fabric Contract API)
â”‚   â”œâ”€â”€ config/                      #   Fabric åº”ç”¨é…ç½®
â”‚   â”œâ”€â”€ network/                     #   åŒºå—é“¾ç½‘ç»œå®šä¹‰
â”‚   â”‚   â”œâ”€â”€ configtx.yaml            #     é€šé“ & ç»„ç»‡ç­–ç•¥é…ç½®
â”‚   â”‚   â”œâ”€â”€ crypto-config.yaml       #     è¯ä¹¦ & å¯†é’¥ç”Ÿæˆé…ç½®
â”‚   â”‚   â”œâ”€â”€ docker-compose.yaml      #     ç½‘ç»œå®¹å™¨ç¼–æ’ (4 Peer + 1 Orderer + CouchDB)
â”‚   â”‚   â”œâ”€â”€ connection-profile.json  #     SDK è¿æ¥é…ç½®æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ channel-artifacts/       #     é€šé“åˆ›ä¸–å— & é”šèŠ‚ç‚¹äº¤æ˜“
â”‚   â”‚   â””â”€â”€ crypto-config/           #     ç»„ç»‡è¯ä¹¦ä¸å¯†é’¥ææ–™
â”‚   â”œâ”€â”€ scripts/                     #   è¿ç»´è„šæœ¬
â”‚   â”‚   â”œâ”€â”€ start-network.js         #     å¯åŠ¨åŒºå—é“¾ç½‘ç»œ
â”‚   â”‚   â”œâ”€â”€ stop-network.js          #     åœæ­¢åŒºå—é“¾ç½‘ç»œ
â”‚   â”‚   â””â”€â”€ deploy-chaincode.js      #     éƒ¨ç½²æ™ºèƒ½åˆçº¦
â”‚   â”œâ”€â”€ utils/                       #   å·¥å…·æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ crypto-utils.js          #     åŠ å¯†å·¥å…·
â”‚   â”‚   â””â”€â”€ log-utils.js             #     æ—¥å¿—å·¥å…·
â”‚   â”œâ”€â”€ wallet/                      #   Fabric é’±åŒ… (ç”¨æˆ·èº«ä»½è¯ä¹¦)
â”‚   â”œâ”€â”€ index.js                     #   åŒºå—é“¾æ¨¡å—å…¥å£
â”‚   â””â”€â”€ package.json
â”‚
â”œâ”€â”€ ğŸ“‚ frontend/app/                 # å‰ç«¯åº”ç”¨ (React + Vite)
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ pages/
â”‚   â”‚   â”‚   â”œâ”€â”€ auth/                #   è®¤è¯é¡µé¢
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ LoginPage.jsx    #     ç™»å½•é¡µ
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ IcbcAuthorize.jsx#     å·¥è¡Œæˆæƒé¡µ
â”‚   â”‚   â”‚   â”œâ”€â”€ client/              #   ç”¨æˆ·ç«¯é¡µé¢
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Dashboard.jsx    #     ç”¨æˆ·ä»ªè¡¨ç›˜
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ MyCollectibles.jsx#    æˆ‘çš„è—å“
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ SearchCollectibles.jsx# æœç´¢è—å“
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ CollectibleHistory.jsx# è—å“æº¯æºå†å²
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ CollectibleTransfer.jsx# è—å“è½¬è®©
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ApplyCollectible.jsx#  ç”³è¯·è—å“
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ CollectibleApplication.jsx# ç”³è¯·è®°å½•
â”‚   â”‚   â”‚   â””â”€â”€ admin/               #   ç®¡ç†ç«¯é¡µé¢
â”‚   â”‚   â”‚       â”œâ”€â”€ Dashboard.jsx    #     ç®¡ç†ä»ªè¡¨ç›˜
â”‚   â”‚   â”‚       â”œâ”€â”€ CreateCollectible.jsx# åˆ›å»ºè—å“
â”‚   â”‚   â”‚       â”œâ”€â”€ SearchCollectibles.jsx# è—å“æ£€ç´¢
â”‚   â”‚   â”‚       â”œâ”€â”€ UserManagement.jsx#   ç”¨æˆ·ç®¡ç†
â”‚   â”‚   â”‚       â”œâ”€â”€ Approvals.jsx    #     å®¡æ‰¹ç®¡ç†
â”‚   â”‚   â”‚       â”œâ”€â”€ ApplicationApprovals.jsx# ç”³è¯·å®¡æ‰¹
â”‚   â”‚   â”‚       â””â”€â”€ TransferApprovals.jsx#  è½¬è®©å®¡æ‰¹
â”‚   â”‚   â”œâ”€â”€ components/              #   å…¬å…±ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ common/ProtectedRoute.jsx# è·¯ç”±å®ˆå«
â”‚   â”‚   â”‚   â””â”€â”€ admin/MetricCard.jsx #   æ•°æ®æŒ‡æ ‡å¡ç‰‡
â”‚   â”‚   â”œâ”€â”€ layouts/                 #   é¡µé¢å¸ƒå±€
â”‚   â”‚   â”‚   â”œâ”€â”€ AdminLayout.jsx      #     ç®¡ç†ç«¯å¸ƒå±€
â”‚   â”‚   â”‚   â”œâ”€â”€ ClientLayout.jsx     #     ç”¨æˆ·ç«¯å¸ƒå±€
â”‚   â”‚   â”‚   â””â”€â”€ AuthLayout.jsx       #     è®¤è¯é¡µå¸ƒå±€
â”‚   â”‚   â”œâ”€â”€ services/                #   API æœåŠ¡å±‚
â”‚   â”‚   â”‚   â”œâ”€â”€ apiClient.js         #     Axios å®ä¾‹ & æ‹¦æˆªå™¨
â”‚   â”‚   â”‚   â”œâ”€â”€ authService.js       #     è®¤è¯æœåŠ¡
â”‚   â”‚   â”‚   â”œâ”€â”€ brandService.js      #     å“ç‰ŒæœåŠ¡
â”‚   â”‚   â”‚   â”œâ”€â”€ collectibleService.js#     è—å“æœåŠ¡
â”‚   â”‚   â”‚   â””â”€â”€ userService.js       #     ç”¨æˆ·æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ context/AuthContext.jsx   #   è®¤è¯ä¸Šä¸‹æ–‡ (React Context)
â”‚   â”‚   â”œâ”€â”€ hooks/useAuth.js         #   è®¤è¯ Hook
â”‚   â”‚   â”œâ”€â”€ router/index.jsx         #   è·¯ç”±é…ç½®
â”‚   â”‚   â”œâ”€â”€ App.jsx                  #   åº”ç”¨å…¥å£ç»„ä»¶
â”‚   â”‚   â””â”€â”€ main.jsx                 #   Vite å…¥å£
â”‚   â”œâ”€â”€ vite.config.js               #   Vite æ„å»ºé…ç½®
â”‚   â””â”€â”€ package.json
â”‚
â”œâ”€â”€ ğŸ“‚ config/                       # å…¨å±€é…ç½®
â”‚   â”œâ”€â”€ config.js                    #   é¡¹ç›®ä¸»é…ç½® (DB/JWT/Blockchain/ICBC/æ”¯ä»˜)
â”‚   â”œâ”€â”€ configtx.yaml                #   Fabric é…ç½®äº¤æ˜“æ¨¡æ¿
â”‚   â”œâ”€â”€ core.yaml                    #   Fabric Peer æ ¸å¿ƒé…ç½®
â”‚   â””â”€â”€ orderer.yaml                 #   Fabric Orderer é…ç½®
â”‚
â”œâ”€â”€ ğŸ“‚ bin/                          # Hyperledger Fabric äºŒè¿›åˆ¶å·¥å…·
â”‚   â”œâ”€â”€ configtxgen                  #   é€šé“é…ç½®ç”Ÿæˆå·¥å…·
â”‚   â”œâ”€â”€ cryptogen                    #   è¯ä¹¦ç”Ÿæˆå·¥å…·
â”‚   â”œâ”€â”€ peer                         #   Peer èŠ‚ç‚¹ CLI
â”‚   â””â”€â”€ orderer                      #   Orderer èŠ‚ç‚¹
â”‚
â”œâ”€â”€ ğŸ“‚ docs/                         # é¡¹ç›®æ–‡æ¡£
â”‚   â”œâ”€â”€ API-DOCS.md                  #   å®Œæ•´ API æ¥å£æ–‡æ¡£
â”‚   â””â”€â”€ PROJECT-STRUCTURE.md         #   é¡¹ç›®ç»“æ„è¯´æ˜
â”‚
â”œâ”€â”€ package.json                     # æ ¹é¡¹ç›®é…ç½®
â””â”€â”€ README.md                        # é¡¹ç›®è¯´æ˜æ–‡æ¡£ï¼ˆæœ¬æ–‡ä»¶ï¼‰
```

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

| ä¾èµ– | æœ€ä½ç‰ˆæœ¬ | è¯´æ˜ |
|------|----------|------|
| Node.js | >= 18.0.0 | JavaScript è¿è¡Œç¯å¢ƒ |
| npm | >= 8.0.0 | åŒ…ç®¡ç†å™¨ |
| MySQL | >= 5.7 | å…³ç³»å‹æ•°æ®åº“ |
| Docker | >= 20.0.0 | å®¹å™¨è¿è¡Œæ—¶ |
| Docker Compose | >= 1.29 | å®¹å™¨ç¼–æ’ |

### 1ï¸âƒ£ å…‹éš†é¡¹ç›®

```bash
git clone https://github.com/your-username/icbc-collectible-traceability.git
cd icbc-collectible-traceability
```

### 2ï¸âƒ£ å®‰è£…ä¾èµ–

```bash
# å®‰è£…æ ¹é¡¹ç›®ä¾èµ–
npm install

# å®‰è£… API æœåŠ¡ä¾èµ–
cd api && npm install && cd ..

# å®‰è£…åŒºå—é“¾æ¨¡å—ä¾èµ–
cd blockchain && npm install && cd ..

# å®‰è£…å‰ç«¯ä¾èµ–
cd frontend/app && npm install && cd ../..
```

### 3ï¸âƒ£ é…ç½®ç¯å¢ƒå˜é‡

åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º `.env` æ–‡ä»¶ï¼š

```env
# ===== åŸºæœ¬é…ç½® =====
NODE_ENV=development
PORT=3000

# ===== MySQL é…ç½® =====
MYSQL_HOST=localhost
MYSQL_USER=root
MYSQL_PASSWORD=your_password
MYSQL_DATABASE=icbc-collectible
MYSQL_PORT=3306

# ===== JWT é…ç½® (é¦–æ¬¡å¯åŠ¨ä¼šè‡ªåŠ¨ç”Ÿæˆ) =====
JWT_SECRET=your-jwt-secret
JWT_REFRESH_SECRET=your-jwt-refresh-secret
JWT_EXPIRES_IN=24h
JWT_REFRESH_EXPIRES_IN=7d

# ===== åŒºå—é“¾é…ç½® =====
BLOCKCHAIN_CONFIG_PATH=../blockchain/network/network-config.yaml
BLOCKCHAIN_CHANNEL=collectible-channel
BLOCKCHAIN_CHAINCODE=collectible-chaincode
BLOCKCHAIN_MSP_ID=Org1MSP

# ===== å·¥è¡Œ API é…ç½® =====
ICBC_API_BASE_URL=https://api.icbc.com.cn
ICBC_APP_ID=your-icbc-app-id
ICBC_API_KEY=your-icbc-api-key
ICBC_MERCHANT_ID=your-icbc-merchant-id
```

> ğŸ’¡ **æç¤º**: JWT å¯†é’¥åœ¨é¦–æ¬¡å¯åŠ¨ API æœåŠ¡æ—¶ä¼šè‡ªåŠ¨ç”Ÿæˆå¹¶å†™å…¥ `.env` æ–‡ä»¶ï¼Œæ— éœ€æ‰‹åŠ¨é…ç½®ã€‚

### 4ï¸âƒ£ å¯åŠ¨ MySQL æ•°æ®åº“

```bash
# æ–¹å¼ä¸€ï¼šä½¿ç”¨ Docker å¿«é€Ÿå¯åŠ¨
docker run -d \
  --name icbc-mysql \
  -e MYSQL_ROOT_PASSWORD=your_password \
  -e MYSQL_DATABASE=icbc-collectible \
  -p 3306:3306 \
  mysql:8.0

# æ–¹å¼äºŒï¼šä½¿ç”¨æœ¬åœ° MySQL æœåŠ¡
# ç¡®ä¿ MySQL æœåŠ¡å·²å¯åŠ¨ï¼Œå¹¶åˆ›å»ºæ•°æ®åº“ icbc-collectible
```

### 5ï¸âƒ£ å¯åŠ¨åŒºå—é“¾ç½‘ç»œ

```bash
cd blockchain

# å¯åŠ¨ Fabric ç½‘ç»œ (Docker Compose)
npm run start-network

# éƒ¨ç½²æ™ºèƒ½åˆçº¦
npm run deploy
```

### 6ï¸âƒ£ å¯åŠ¨åç«¯ API æœåŠ¡

```bash
cd api

# ç”Ÿäº§æ¨¡å¼
npm start

# å¼€å‘æ¨¡å¼ (æ”¯æŒçƒ­é‡è½½)
npm run dev
```

API æœåŠ¡é»˜è®¤è¿è¡Œåœ¨ `http://localhost:3000`

### 7ï¸âƒ£ å¯åŠ¨å‰ç«¯åº”ç”¨

```bash
cd frontend/app

# å¼€å‘æ¨¡å¼
npm run dev

# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run build
```

å‰ç«¯åº”ç”¨é»˜è®¤è¿è¡Œåœ¨ `http://localhost:5173`

---

## ğŸ“¡ API æ¥å£æ¦‚è§ˆ

å®Œæ•´ API æ–‡æ¡£è¯·å‚é˜… [docs/API-DOCS.md](docs/API-DOCS.md)ã€‚

### è®¤è¯æ¥å£

| æ–¹æ³• | è·¯å¾„ | è¯´æ˜ |
|------|------|------|
| `POST` | `/api/auth/register` | ç”¨æˆ·æ³¨å†Œ |
| `POST` | `/api/auth/login` | ç”¨æˆ·ç™»å½• |
| `POST` | `/api/auth/login/icbc` | å·¥è¡Œä¸€é”®ç™»å½• |
| `GET` | `/api/auth/me` | è·å–å½“å‰ç”¨æˆ·ä¿¡æ¯ |

### è—å“æ¥å£

| æ–¹æ³• | è·¯å¾„ | è¯´æ˜ |
|------|------|------|
| `POST` | `/api/collectibles` | åˆ›å»ºè—å“ï¼ˆç®¡ç†å‘˜ï¼‰ |
| `GET` | `/api/collectibles` | æŸ¥è¯¢è—å“åˆ—è¡¨ |
| `GET` | `/api/collectibles/:id` | æŸ¥è¯¢è—å“è¯¦æƒ… |
| `POST` | `/api/collectibles/:id/claim` | è®¤é¢†è—å“ |
| `POST` | `/api/collectibles/:id/transfer` | è½¬è®©è—å“ |
| `GET` | `/api/collectibles/:id/history` | æŸ¥è¯¢æµè½¬å†å² |
| `GET` | `/api/collectibles/:id/verify` | éªŒè¯è—å“çœŸä¼ª |

### å“ç‰Œæ¥å£

| æ–¹æ³• | è·¯å¾„ | è¯´æ˜ |
|------|------|------|
| `GET` | `/api/brands` | è·å–å“ç‰Œåˆ—è¡¨ |
| `POST` | `/api/brands` | åˆ›å»ºå“ç‰Œ |

### ç”¨æˆ·æ¥å£

| æ–¹æ³• | è·¯å¾„ | è¯´æ˜ |
|------|------|------|
| `GET` | `/api/users` | è·å–ç”¨æˆ·åˆ—è¡¨ï¼ˆç®¡ç†å‘˜ï¼‰ |
| `PUT` | `/api/users/:id` | æ›´æ–°ç”¨æˆ·ä¿¡æ¯ |

---

## ğŸ” æ™ºèƒ½åˆçº¦

æ™ºèƒ½åˆçº¦ `CollectibleTraceabilityContract` åŸºäº `fabric-contract-api` å¼€å‘ï¼Œéƒ¨ç½²åœ¨ Fabric è”ç›Ÿé“¾ä¸Šï¼Œæä¾›ä»¥ä¸‹æ ¸å¿ƒåŠŸèƒ½ï¼š

| æ–¹æ³• | è¯´æ˜ |
|------|------|
| `initLedger()` | åˆå§‹åŒ–è´¦æœ¬ |
| `createCollectible()` | åˆ›å»ºè—å“æ•°å­—èº«ä»½å¹¶ä¸Šé“¾ |
| `claimCollectible()` | è®¤é¢†è—å“ï¼Œè½¬ç§»æ‰€æœ‰æƒ |
| `transferCollectible()` | è½¬è®©è—å“æ‰€æœ‰æƒ |
| `queryCollectible()` | æŸ¥è¯¢é“¾ä¸Šè—å“ä¿¡æ¯ |
| `getCollectibleHistory()` | è·å–è—å“æµè½¬å†å² |
| `verifyCollectible()` | é€šè¿‡å“ˆå¸ŒéªŒè¯è—å“çœŸä¼ª |

æ¯æ¬¡è—å“æ“ä½œéƒ½ä¼šè‡ªåŠ¨è®¡ç®— **SHA-256 å“ˆå¸Œå€¼** ä½œä¸ºæ•°å­—æŒ‡çº¹ï¼Œç¡®ä¿æ•°æ®å®Œæ•´æ€§ã€‚

---

## ğŸ”’ å®‰å…¨æªæ–½

1. **åŒé‡èº«ä»½è®¤è¯** â€” å¯†ç ç™»å½• + å·¥è¡Œ OAuth ä¸€é”®ç™»å½•
2. **JWT Token** â€” Access Token (24h) + Refresh Token (7d) åŒä»¤ç‰Œæœºåˆ¶
3. **RBAC æƒé™æ§åˆ¶** â€” åŸºäºè§’è‰²çš„ç»†ç²’åº¦è®¿é—®æ§åˆ¶
4. **å¯†ç å®‰å…¨** â€” bcryptjs åŠ ç›å“ˆå¸Œå­˜å‚¨
5. **HTTP å®‰å…¨** â€” Helmet ä¸­é—´ä»¶è®¾ç½®å®‰å…¨å“åº”å¤´
6. **API é™æµ** â€” æ»‘åŠ¨çª—å£é™æµï¼Œé˜²æ­¢æš´åŠ›æ”»å‡»
7. **åŒºå—é“¾é˜²ç¯¡æ”¹** â€” é“¾ä¸Šæ•°æ®ä¸å¯ç¯¡æ”¹ï¼Œç¡®ä¿è—å“ä¿¡æ¯çœŸå®å¯ä¿¡
8. **TLS åŠ å¯†** â€” åŒºå—é“¾èŠ‚ç‚¹é—´å…¨é“¾è·¯ TLS åŠ å¯†é€šä¿¡

---

## ğŸ› æ•…éšœæ’æŸ¥

<details>
<summary><b>æ•°æ®åº“è¿æ¥å¤±è´¥</b></summary>

- æ£€æŸ¥ MySQL æœåŠ¡æ˜¯å¦æ­£å¸¸è¿è¡Œ
- ç¡®è®¤ `.env` ä¸­çš„æ•°æ®åº“é…ç½®æ­£ç¡®
- éªŒè¯æ•°æ®åº“ `icbc-collectible` æ˜¯å¦å·²åˆ›å»º
</details>

<details>
<summary><b>åŒºå—é“¾ç½‘ç»œå¯åŠ¨å¤±è´¥</b></summary>

- æ£€æŸ¥ Docker æ˜¯å¦æ­£å¸¸è¿è¡Œï¼š`docker ps -a`
- æŸ¥çœ‹å®¹å™¨æ—¥å¿—ï¼š`docker logs orderer.icbc.com`
- ç¡®è®¤è¯ä¹¦æ–‡ä»¶å­˜åœ¨äº `blockchain/network/crypto-config/`
- æ£€æŸ¥ç«¯å£å ç”¨ï¼š7050 (Orderer), 7051 (Peer), 5984 (CouchDB)
</details>

<details>
<summary><b>å‰ç«¯æ— æ³•è¿æ¥åç«¯ API</b></summary>

- ç¡®è®¤ API æœåŠ¡åœ¨ `http://localhost:3000` æ­£å¸¸è¿è¡Œ
- æ£€æŸ¥ Vite ä»£ç†é…ç½® (`vite.config.js` â†’ `/api` ä»£ç†)
- æ£€æŸ¥ CORS é…ç½®æ˜¯å¦å…è®¸å‰ç«¯åŸŸå
</details>

<details>
<summary><b>JWT è®¤è¯é”™è¯¯</b></summary>

- é¦–æ¬¡å¯åŠ¨ä¼šè‡ªåŠ¨ç”Ÿæˆ JWT å¯†é’¥ï¼Œæ£€æŸ¥ `.env` æ–‡ä»¶
- ç¡®è®¤ Token æœªè¿‡æœŸï¼ˆé»˜è®¤ 24 å°æ—¶ï¼‰
- æ£€æŸ¥è¯·æ±‚å¤´æ ¼å¼ï¼š`Authorization: Bearer <token>`
</details>

---

## ğŸ¤ å¼€å‘ä¸è´¡çŒ®

### å¼€å‘æµç¨‹

```bash
# 1. Fork å¹¶å…‹éš†é¡¹ç›®
git clone https://github.com/your-username/icbc-collectible-traceability.git

# 2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
git checkout -b feature/your-feature

# 3. å¼€å‘å¹¶æäº¤
git commit -am "feat: add some feature"

# 4. æ¨é€å¹¶åˆ›å»º PR
git push origin feature/your-feature
```

### ä»£ç è§„èŒƒ

- éµå¾ª ESLint é…ç½®çš„ä»£ç è§„èŒƒ
- æäº¤ä¿¡æ¯éµå¾ª [Conventional Commits](https://www.conventionalcommits.org/) è§„èŒƒ
- æ–°åŠŸèƒ½éœ€è¦ç¼–å†™å¯¹åº”çš„æµ‹è¯•ç”¨ä¾‹

### é¡¹ç›®è„šæœ¬

```bash
# æ ¹ç›®å½•
npm run dev:api          # å¯åŠ¨ API å¼€å‘æœåŠ¡
npm run dev:blockchain   # å¯åŠ¨åŒºå—é“¾æ¨¡å—

# API ç›®å½•
npm start                # ç”Ÿäº§æ¨¡å¼å¯åŠ¨
npm run dev              # å¼€å‘æ¨¡å¼ (Nodemon)
npm test                 # è¿è¡Œæµ‹è¯•

# åŒºå—é“¾ç›®å½•
npm run start-network    # å¯åŠ¨åŒºå—é“¾ç½‘ç»œ
npm run stop-network     # åœæ­¢åŒºå—é“¾ç½‘ç»œ
npm run deploy           # éƒ¨ç½²æ™ºèƒ½åˆçº¦

# å‰ç«¯ç›®å½•
npm run dev              # å¼€å‘æœåŠ¡å™¨
npm run build            # ç”Ÿäº§æ„å»º
npm run preview          # é¢„è§ˆæ„å»ºç»“æœ
```

---

## ğŸ“„ å¼€æºåè®®

æœ¬é¡¹ç›®é‡‡ç”¨ [MIT License](LICENSE) å¼€æºåè®®ã€‚

---

## ğŸ“¬ è”ç³»æ–¹å¼

å¦‚æœ‰ä»»ä½•é—®é¢˜æˆ–å»ºè®®ï¼Œæ¬¢è¿é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»ï¼š

- ğŸ“§ é‚®ç®±ï¼šproject@icbc.com
- ğŸ› Issueï¼š[GitHub Issues](https://github.com/your-username/icbc-collectible-traceability/issues)

---

<div align="center">
  <sub>Built with â¤ï¸ by ICBC Blockchain Team</sub>
</div>